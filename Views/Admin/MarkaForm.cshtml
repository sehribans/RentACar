@model TBL_MARKA
@{
    ViewData["Title"] = "MarkaForm";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="card col-lg-6 card-primary">
    <div class="card-header">
        <h3 class="card-title">Marka Ekleme Formu</h3>
    </div>
    <div class="card-body">
        <form asp-action="MarkaForm" method="post" enctype="multipart/form-data">
    <input type="hidden" asp-for="ID" />
    <div class="form-group">
        <label>Marka</label>
        <input class="form-control" type="text" asp-for="MARKA" />
    </div>
            <div class="form-group">
                <label>Araç Görseli</label>
                <input type="file" class="file-upload-default" name="uploadedFile" style="display:none;" id="filePicker" onchange="GetFileSizeNameAndType()">
                <div class="input-group col-xs-12">
                    <input type="text" class="form-control file-upload-info" disabled="" id="imageinput" placeholder="Upload Image">
                    <span class="input-group-append">
                        <button class="file-upload-browse btn btn-primary" onclick="DosyaSec()" type="button">Yükle</button>
                    </span>
                </div>
            </div>

    
        <button type="submit" class="btn btn-md btn-primary">Ekle</button>
 </form>  
 </div>
</div>


<script>
    function kontrol() {
        alert("asdasd");
    }
    function DosyaSec() {
        $('#filePicker').click();
    }


    function GetFileSizeNameAndType() {
        var fi = document.getElementById('filePicker'); // GET THE FILE INPUT AS VARIABLE.

        var totalFileSize = 0;

        // VALIDATE OR CHECK IF ANY FILE IS SELECTED.
        if (fi.files.length > 0) {
            // RUN A LOOP TO CHECK EACH SELECTED FILE.
            for (var i = 0; i <= fi.files.length - 1; i++) {
                //ACCESS THE SIZE PROPERTY OF THE ITEM OBJECT IN FILES COLLECTION. IN THIS WAY ALSO GET OTHER PROPERTIES LIKE FILENAME AND FILETYPE
                var fsize = fi.files.item(i).size;
                totalFileSize = totalFileSize + fsize;

                $('#imageinput').val(fi.files.item(i).name);

            }
        }

    }
</script>